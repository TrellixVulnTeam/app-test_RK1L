{"remainingRequest":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js!/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vkit3/WebstormProjects/vue-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vkit3/WebstormProjects/vue-test/src/components/ArticleActions.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vkit3/WebstormProjects/vue-test/src/components/ArticleActions.vue","mtime":1622589832856},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBGQVZPUklURV9BREQsIEZBVk9SSVRFX1JFTU9WRSwgQVJUSUNMRV9ERUxFVEUsIEZFVENIX1BST0ZJTEVfRk9MTE9XLCBGRVRDSF9QUk9GSUxFX1VORk9MTE9XIH0gZnJvbSAiQC9zdG9yZS9hY3Rpb25zLnR5cGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZ0QXJ0aWNsZUFjdGlvbnMiLAogIHByb3BzOiB7CiAgICBhcnRpY2xlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjYW5Nb2RpZnk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoWyJwcm9maWxlIiwgImlzQXV0aGVudGljYXRlZCJdKSwKCiAgICBlZGl0QXJ0aWNsZUxpbmsoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogImFydGljbGUtZWRpdCIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzbHVnOiB0aGlzLmFydGljbGUuc2x1ZwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCgogICAgdG9nZ2xlRmF2b3JpdGVCdXR0b25DbGFzc2VzKCkgewogICAgICByZXR1cm4gewogICAgICAgICJidG4tcHJpbWFyeSI6IHRoaXMuYXJ0aWNsZS5mYXZvcml0ZWQsCiAgICAgICAgImJ0bi1vdXRsaW5lLXByaW1hcnkiOiAhdGhpcy5hcnRpY2xlLmZhdm9yaXRlZAogICAgICB9OwogICAgfSwKCiAgICBmb2xsb3dVc2VyTGFiZWwoKSB7CiAgICAgIHJldHVybiBgJHt0aGlzLnByb2ZpbGUuZm9sbG93aW5nID8gIlVuZm9sbG93IiA6ICJGb2xsb3cifSAke3RoaXMuYXJ0aWNsZS5hdXRob3IudXNlcm5hbWV9YDsKICAgIH0sCgogICAgZmF2b3JpdGVBcnRpY2xlTGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmFydGljbGUuZmF2b3JpdGVkID8gIlVuZmF2b3JpdGUgQXJ0aWNsZSIgOiAiRmF2b3JpdGUgQXJ0aWNsZSI7CiAgICB9LAoKICAgIGZhdm9yaXRlQ291bnRlcigpIHsKICAgICAgcmV0dXJuIGAoJHt0aGlzLmFydGljbGUuZmF2b3JpdGVzQ291bnR9KWA7CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlRmF2b3JpdGUoKSB7CiAgICAgIGlmICghdGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAibG9naW4iCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLmFydGljbGUuZmF2b3JpdGVkID8gRkFWT1JJVEVfUkVNT1ZFIDogRkFWT1JJVEVfQUREOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChhY3Rpb24sIHRoaXMuYXJ0aWNsZS5zbHVnKTsKICAgIH0sCgogICAgdG9nZ2xlRm9sbG93KCkgewogICAgICBpZiAoIXRoaXMuaXNBdXRoZW50aWNhdGVkKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImxvZ2luIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5hcnRpY2xlLmZvbGxvd2luZyA/IEZFVENIX1BST0ZJTEVfVU5GT0xMT1cgOiBGRVRDSF9QUk9GSUxFX0ZPTExPVzsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYWN0aW9uLCB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvZmlsZS51c2VybmFtZQogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgZGVsZXRlQXJ0aWNsZSgpIHsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goQVJUSUNMRV9ERUxFVEUsIHRoaXMuYXJ0aWNsZS5zbHVnKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["/home/vkit3/WebstormProjects/vue-test/src/components/ArticleActions.vue"],"names":[],"mappings":"AAeA,SAAS,UAAT,QAA2B,MAA3B;AACA,SACE,YADF,EAEE,eAFF,EAGE,cAHF,EAIE,oBAJF,EAKE,sBALF,QAMO,sBANP;AAQA,eAAe;AACb,EAAA,IAAI,EAAE,kBADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AAAE,MAAA,IAAI,EAAE,MAAR;AAAgB,MAAA,QAAQ,EAAE;AAA1B,KADJ;AAEL,IAAA,SAAS,EAAE;AAAE,MAAA,IAAI,EAAE,OAAR;AAAiB,MAAA,QAAQ,EAAE;AAA3B;AAFN,GAFM;AAMb,EAAA,QAAQ,EAAE,EACR,GAAG,UAAU,CAAC,CAAC,SAAD,EAAY,iBAAZ,CAAD,CADL;;AAER,IAAA,eAAe,GAAG;AAChB,aAAO;AAAE,QAAA,IAAI,EAAE,cAAR;AAAwB,QAAA,MAAM,EAAE;AAAE,UAAA,IAAI,EAAE,KAAK,OAAL,CAAa;AAArB;AAAhC,OAAP;AACD,KAJO;;AAKR,IAAA,2BAA2B,GAAG;AAC5B,aAAO;AACL,uBAAe,KAAK,OAAL,CAAa,SADvB;AAEL,+BAAuB,CAAC,KAAK,OAAL,CAAa;AAFhC,OAAP;AAID,KAVO;;AAWR,IAAA,eAAe,GAAG;AAChB,aAAQ,GAAE,KAAK,OAAL,CAAa,SAAb,GAAyB,UAAzB,GAAsC,QAAQ,IACtD,KAAK,OAAL,CAAa,MAAb,CAAoB,QACrB,EAFD;AAGD,KAfO;;AAgBR,IAAA,oBAAoB,GAAG;AACrB,aAAO,KAAK,OAAL,CAAa,SAAb,GAAyB,oBAAzB,GAAgD,kBAAvD;AACD,KAlBO;;AAmBR,IAAA,eAAe,GAAG;AAChB,aAAQ,IAAG,KAAK,OAAL,CAAa,cAAe,GAAvC;AACF;;AArBQ,GANG;AA6Bb,EAAA,OAAO,EAAE;AACP,IAAA,cAAc,GAAG;AACf,UAAI,CAAC,KAAK,eAAV,EAA2B;AACzB,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACA;AACF;;AACA,YAAM,MAAK,GAAI,KAAK,OAAL,CAAa,SAAb,GAAyB,eAAzB,GAA2C,YAA1D;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,MAArB,EAA6B,KAAK,OAAL,CAAa,IAA1C;AACD,KARM;;AASP,IAAA,YAAY,GAAG;AACb,UAAI,CAAC,KAAK,eAAV,EAA2B;AACzB,aAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACA;AACF;;AACA,YAAM,MAAK,GAAI,KAAK,OAAL,CAAa,SAAb,GACX,sBADW,GAEX,oBAFJ;AAGA,WAAK,MAAL,CAAY,QAAZ,CAAqB,MAArB,EAA6B;AAC3B,QAAA,QAAQ,EAAE,KAAK,OAAL,CAAa;AADI,OAA7B;AAGD,KApBM;;AAqBP,UAAM,aAAN,GAAsB;AACpB,YAAM,KAAK,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,KAAK,OAAL,CAAa,IAAlD,CAAN;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACF;;AAxBO;AA7BI,CAAf","sourcesContent":["<template>\n  <span v-if=\"canModify\">\n    <router-link class=\"btn btn-sm btn-primary\" :to=\"editArticleLink\">\n      <ion-icon name=\"pencil-outline\"></ion-icon>\n      <span>&nbsp;Edit Article</span>\n    </router-link>\n    <span>&nbsp;&nbsp;</span>\n    <button class=\"btn btn-danger btn-sm\" @click=\"deleteArticle\">\n      <ion-icon name=\"trash-outline\"></ion-icon>\n      <span>&nbsp;Delete Article</span>\n    </button>\n  </span>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport {\n  FAVORITE_ADD,\n  FAVORITE_REMOVE,\n  ARTICLE_DELETE,\n  FETCH_PROFILE_FOLLOW,\n  FETCH_PROFILE_UNFOLLOW\n} from \"@/store/actions.type\";\n\nexport default {\n  name: \"VtArticleActions\",\n  props: {\n    article: { type: Object, required: true },\n    canModify: { type: Boolean, required: true }\n  },\n  computed: {\n    ...mapGetters([\"profile\", \"isAuthenticated\"]),\n    editArticleLink() {\n      return { name: \"article-edit\", params: { slug: this.article.slug } };\n    },\n    toggleFavoriteButtonClasses() {\n      return {\n        \"btn-primary\": this.article.favorited,\n        \"btn-outline-primary\": !this.article.favorited\n      };\n    },\n    followUserLabel() {\n      return `${this.profile.following ? \"Unfollow\" : \"Follow\"} ${\n        this.article.author.username\n      }`;\n    },\n    favoriteArticleLabel() {\n      return this.article.favorited ? \"Unfavorite Article\" : \"Favorite Article\";\n    },\n    favoriteCounter() {\n      return `(${this.article.favoritesCount})`;\n    }\n  },\n  methods: {\n    toggleFavorite() {\n      if (!this.isAuthenticated) {\n        this.$router.push({ name: \"login\" });\n        return;\n      }\n      const action = this.article.favorited ? FAVORITE_REMOVE : FAVORITE_ADD;\n      this.$store.dispatch(action, this.article.slug);\n    },\n    toggleFollow() {\n      if (!this.isAuthenticated) {\n        this.$router.push({ name: \"login\" });\n        return;\n      }\n      const action = this.article.following\n        ? FETCH_PROFILE_UNFOLLOW\n        : FETCH_PROFILE_FOLLOW;\n      this.$store.dispatch(action, {\n        username: this.profile.username\n      });\n    },\n    async deleteArticle() {\n      await this.$store.dispatch(ARTICLE_DELETE, this.article.slug);\n      this.$router.push(\"/\");\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}