{"remainingRequest":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js!/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vkit3/WebstormProjects/vue-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vkit3/WebstormProjects/vue-test/src/views/ArticleEdit.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vkit3/WebstormProjects/vue-test/src/views/ArticleEdit.vue","mtime":1622590269975},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCBWdExpc3RFcnJvcnMgZnJvbSAiQC9jb21wb25lbnRzL0xpc3RFcnJvcnMiOwppbXBvcnQgeyBBUlRJQ0xFX1BVQkxJU0gsIEFSVElDTEVfRURJVCwgRkVUQ0hfQVJUSUNMRSwgQVJUSUNMRV9FRElUX0FERF9UQUcsIEFSVElDTEVfRURJVF9SRU1PVkVfVEFHLCBBUlRJQ0xFX1JFU0VUX1NUQVRFIH0gZnJvbSAiQC9zdG9yZS9hY3Rpb25zLnR5cGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZ0QXJ0aWNsZUVkaXQiLAogIGNvbXBvbmVudHM6IHsKICAgIFZ0TGlzdEVycm9ycwogIH0sCiAgcHJvcHM6IHsKICAgIHByZXZpb3VzQXJ0aWNsZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfQogIH0sCgogIGFzeW5jIGJlZm9yZVJvdXRlVXBkYXRlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaChBUlRJQ0xFX1JFU0VUX1NUQVRFKTsKICAgIHJldHVybiBuZXh0KCk7CiAgfSwKCiAgYXN5bmMgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goQVJUSUNMRV9SRVNFVF9TVEFURSk7CgogICAgaWYgKHRvLnBhcmFtcy5zbHVnICE9PSB1bmRlZmluZWQpIHsKICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goRkVUQ0hfQVJUSUNMRSwgdG8ucGFyYW1zLnNsdWcsIHRvLnBhcmFtcy5wcmV2aW91c0FydGljbGUpOwogICAgfQoKICAgIHJldHVybiBuZXh0KCk7CiAgfSwKCiAgYXN5bmMgYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goQVJUSUNMRV9SRVNFVF9TVEFURSk7CiAgICBuZXh0KCk7CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhZ0lucHV0OiBudWxsLAogICAgICBpblByb2dyZXNzOiBmYWxzZSwKICAgICAgZXJyb3JzOiB7fQogICAgfTsKICB9LAoKICBjb21wdXRlZDogeyAuLi5tYXBHZXR0ZXJzKFsiYXJ0aWNsZSJdKQogIH0sCiAgbWV0aG9kczogewogICAgb25QdWJsaXNoKHNsdWcpIHsKICAgICAgbGV0IGFjdGlvbiA9IHNsdWcgPyBBUlRJQ0xFX0VESVQgOiBBUlRJQ0xFX1BVQkxJU0g7CiAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKGFjdGlvbikudGhlbigoewogICAgICAgIGRhdGEKICAgICAgfSkgPT4gewogICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJhcnRpY2xlIiwKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBzbHVnOiBkYXRhLmFydGljbGUuc2x1ZwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaCgoewogICAgICAgIHJlc3BvbnNlCiAgICAgIH0pID0+IHsKICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgICB0aGlzLmVycm9ycyA9IHJlc3BvbnNlLmRhdGEuZXJyb3JzOwogICAgICB9KTsKICAgIH0sCgogICAgcmVtb3ZlVGFnKHRhZykgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChBUlRJQ0xFX0VESVRfUkVNT1ZFX1RBRywgdGFnKTsKICAgIH0sCgogICAgYWRkVGFnKHRhZykgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChBUlRJQ0xFX0VESVRfQUREX1RBRywgdGFnKTsKICAgICAgdGhpcy50YWdJbnB1dCA9IG51bGw7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["/home/vkit3/WebstormProjects/vue-test/src/views/ArticleEdit.vue"],"names":[],"mappings":"AAiDA,SAAS,UAAT,QAA2B,MAA3B;AACA,OAAO,KAAP,MAAkB,SAAlB;AACA,OAAO,YAAP,MAAyB,yBAAzB;AACA,SACE,eADF,EAEE,YAFF,EAGE,aAHF,EAIE,oBAJF,EAKE,uBALF,EAME,mBANF,QAOO,sBAPP;AASA,eAAe;AACb,EAAA,IAAI,EAAE,eADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA;AAAF,GAFC;AAGb,EAAA,KAAK,EAAE;AACL,IAAA,eAAe,EAAE;AACf,MAAA,IAAI,EAAE,MADS;AAEf,MAAA,QAAQ,EAAE;AAFK;AADZ,GAHM;;AASb,QAAM,iBAAN,CAAwB,EAAxB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC;AACtC,UAAM,KAAK,CAAC,QAAN,CAAe,mBAAf,CAAN;AACA,WAAO,IAAI,EAAX;AACD,GAZY;;AAab,QAAM,gBAAN,CAAuB,EAAvB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC;AACrC,UAAM,KAAK,CAAC,QAAN,CAAe,mBAAf,CAAN;;AACA,QAAI,EAAE,CAAC,MAAH,CAAU,IAAV,KAAmB,SAAvB,EAAkC;AAChC,YAAM,KAAK,CAAC,QAAN,CACJ,aADI,EAEJ,EAAE,CAAC,MAAH,CAAU,IAFN,EAGJ,EAAE,CAAC,MAAH,CAAU,eAHN,CAAN;AAKF;;AACA,WAAO,IAAI,EAAX;AACD,GAvBY;;AAwBb,QAAM,gBAAN,CAAuB,EAAvB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC;AACrC,UAAM,KAAK,CAAC,QAAN,CAAe,mBAAf,CAAN;AACA,IAAA,IAAI;AACL,GA3BY;;AA4Bb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,IADL;AAEL,MAAA,UAAU,EAAE,KAFP;AAGL,MAAA,MAAM,EAAE;AAHH,KAAP;AAKD,GAlCY;;AAmCb,EAAA,QAAQ,EAAE,EACR,GAAG,UAAU,CAAC,CAAC,SAAD,CAAD;AADL,GAnCG;AAsCb,EAAA,OAAO,EAAE;AACP,IAAA,SAAS,CAAC,IAAD,EAAO;AACd,UAAI,MAAK,GAAI,IAAG,GAAI,YAAJ,GAAmB,eAAnC;AACA,WAAK,UAAL,GAAkB,IAAlB;AACA,WAAK,MAAL,CACG,QADH,CACY,MADZ,EAEG,IAFH,CAEQ,CAAC;AAAE,QAAA;AAAF,OAAD,KAAc;AAClB,aAAK,UAAL,GAAkB,KAAlB;AACA,aAAK,OAAL,CAAa,IAAb,CAAkB;AAChB,UAAA,IAAI,EAAE,SADU;AAEhB,UAAA,MAAM,EAAE;AAAE,YAAA,IAAI,EAAE,IAAI,CAAC,OAAL,CAAa;AAArB;AAFQ,SAAlB;AAID,OARH,EASG,KATH,CASS,CAAC;AAAE,QAAA;AAAF,OAAD,KAAkB;AACvB,aAAK,UAAL,GAAkB,KAAlB;AACA,aAAK,MAAL,GAAc,QAAQ,CAAC,IAAT,CAAc,MAA5B;AACD,OAZH;AAaD,KAjBM;;AAkBP,IAAA,SAAS,CAAC,GAAD,EAAM;AACb,WAAK,MAAL,CAAY,QAAZ,CAAqB,uBAArB,EAA8C,GAA9C;AACD,KApBM;;AAqBP,IAAA,MAAM,CAAC,GAAD,EAAM;AACV,WAAK,MAAL,CAAY,QAAZ,CAAqB,oBAArB,EAA2C,GAA3C;AACA,WAAK,QAAL,GAAgB,IAAhB;AACF;;AAxBO;AAtCI,CAAf","sourcesContent":["<template>\n  <div class=\"editor-page\">\n    <div class=\"container page\">\n      <div class=\"row\">\n        <div class=\"col-md-10 col-md-offset-1 col-xs-12\">\n          <VtListErrors :errors=\"errors\" />\n          <form @submit.prevent=\"onPublish(article.slug)\">\n            <fieldset :disabled=\"inProgress\">\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control form-control-lg\"\n                  v-model=\"article.title\"\n                  placeholder=\"Record Title\"\n                />\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"article.description\"\n                  placeholder=\"Description\"\n                />\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <textarea\n                  class=\"form-control\"\n                  rows=\"8\"\n                  v-model=\"article.body\"\n                  placeholder=\"Content\"\n                >\n                </textarea>\n              </fieldset>\n            </fieldset>\n            <button\n              :disabled=\"inProgress\"\n              class=\"btn btn-lg btn-block pull-xs-right btn-primary\"\n              type=\"submit\"\n            >\n              Publish Record\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport store from \"@/store\";\nimport VtListErrors from \"@/components/ListErrors\";\nimport {\n  ARTICLE_PUBLISH,\n  ARTICLE_EDIT,\n  FETCH_ARTICLE,\n  ARTICLE_EDIT_ADD_TAG,\n  ARTICLE_EDIT_REMOVE_TAG,\n  ARTICLE_RESET_STATE\n} from \"@/store/actions.type\";\n\nexport default {\n  name: \"VtArticleEdit\",\n  components: { VtListErrors },\n  props: {\n    previousArticle: {\n      type: Object,\n      required: false\n    }\n  },\n  async beforeRouteUpdate(to, from, next) {\n    await store.dispatch(ARTICLE_RESET_STATE);\n    return next();\n  },\n  async beforeRouteEnter(to, from, next) {\n    await store.dispatch(ARTICLE_RESET_STATE);\n    if (to.params.slug !== undefined) {\n      await store.dispatch(\n        FETCH_ARTICLE,\n        to.params.slug,\n        to.params.previousArticle\n      );\n    }\n    return next();\n  },\n  async beforeRouteLeave(to, from, next) {\n    await store.dispatch(ARTICLE_RESET_STATE);\n    next();\n  },\n  data() {\n    return {\n      tagInput: null,\n      inProgress: false,\n      errors: {}\n    };\n  },\n  computed: {\n    ...mapGetters([\"article\"])\n  },\n  methods: {\n    onPublish(slug) {\n      let action = slug ? ARTICLE_EDIT : ARTICLE_PUBLISH;\n      this.inProgress = true;\n      this.$store\n        .dispatch(action)\n        .then(({ data }) => {\n          this.inProgress = false;\n          this.$router.push({\n            name: \"article\",\n            params: { slug: data.article.slug }\n          });\n        })\n        .catch(({ response }) => {\n          this.inProgress = false;\n          this.errors = response.data.errors;\n        });\n    },\n    removeTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_REMOVE_TAG, tag);\n    },\n    addTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_ADD_TAG, tag);\n      this.tagInput = null;\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}