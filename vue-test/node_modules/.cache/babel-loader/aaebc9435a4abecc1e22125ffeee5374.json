{"remainingRequest":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js!/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vkit3/WebstormProjects/vue-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vkit3/WebstormProjects/vue-test/src/components/ArticleList.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vkit3/WebstormProjects/vue-test/src/components/ArticleList.vue","mtime":1622589832868},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgVnRBcnRpY2xlUHJldmlldyBmcm9tICIuL1ZBcnRpY2xlUHJldmlldyI7CmltcG9ydCBWUGFnaW5hdGlvbiBmcm9tICIuL1ZQYWdpbmF0aW9uIjsKaW1wb3J0IHsgRkVUQ0hfQVJUSUNMRVMgfSBmcm9tICIuLi9zdG9yZS9hY3Rpb25zLnR5cGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZ0QXJ0aWNsZUxpc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIFZ0QXJ0aWNsZVByZXZpZXcsCiAgICBWUGFnaW5hdGlvbgogIH0sCiAgcHJvcHM6IHsKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICJhbGwiCiAgICB9LAogICAgYXV0aG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgdGFnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgZmF2b3JpdGVkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgaXRlbXNQZXJQYWdlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAxMAogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UGFnZTogMQogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgbGlzdENvbmZpZygpIHsKICAgICAgY29uc3QgewogICAgICAgIHR5cGUKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7CiAgICAgICAgb2Zmc2V0OiAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5pdGVtc1BlclBhZ2UsCiAgICAgICAgbGltaXQ6IHRoaXMuaXRlbXNQZXJQYWdlCiAgICAgIH07CgogICAgICBpZiAodGhpcy5hdXRob3IpIHsKICAgICAgICBmaWx0ZXJzLmF1dGhvciA9IHRoaXMuYXV0aG9yOwogICAgICB9CgogICAgICBpZiAodGhpcy50YWcpIHsKICAgICAgICBmaWx0ZXJzLnRhZyA9IHRoaXMudGFnOwogICAgICB9CgogICAgICBpZiAodGhpcy5mYXZvcml0ZWQpIHsKICAgICAgICBmaWx0ZXJzLmZhdm9yaXRlZCA9IHRoaXMuZmF2b3JpdGVkOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHR5cGUsCiAgICAgICAgZmlsdGVycwogICAgICB9OwogICAgfSwKCiAgICBwYWdlcygpIHsKICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nIHx8IHRoaXMuYXJ0aWNsZXNDb3VudCA8PSB0aGlzLml0ZW1zUGVyUGFnZSkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgICAgcmV0dXJuIFsuLi5BcnJheShNYXRoLmNlaWwodGhpcy5hcnRpY2xlc0NvdW50IC8gdGhpcy5pdGVtc1BlclBhZ2UpKS5rZXlzKCldLm1hcChlID0+IGUgKyAxKTsKICAgIH0sCgogICAgLi4ubWFwR2V0dGVycyhbImFydGljbGVzQ291bnQiLCAiaXNMb2FkaW5nIiwgImFydGljbGVzIl0pCiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFBhZ2UobmV3VmFsdWUpIHsKICAgICAgdGhpcy5saXN0Q29uZmlnLmZpbHRlcnMub2Zmc2V0ID0gKG5ld1ZhbHVlIC0gMSkgKiB0aGlzLml0ZW1zUGVyUGFnZTsKICAgICAgdGhpcy5mZXRjaEFydGljbGVzKCk7CiAgICB9LAoKICAgIHR5cGUoKSB7CiAgICAgIHRoaXMucmVzZXRQYWdpbmF0aW9uKCk7CiAgICAgIHRoaXMuZmV0Y2hBcnRpY2xlcygpOwogICAgfSwKCiAgICBhdXRob3IoKSB7CiAgICAgIHRoaXMucmVzZXRQYWdpbmF0aW9uKCk7CiAgICAgIHRoaXMuZmV0Y2hBcnRpY2xlcygpOwogICAgfSwKCiAgICB0YWcoKSB7CiAgICAgIHRoaXMucmVzZXRQYWdpbmF0aW9uKCk7CiAgICAgIHRoaXMuZmV0Y2hBcnRpY2xlcygpOwogICAgfSwKCiAgICBmYXZvcml0ZWQoKSB7CiAgICAgIHRoaXMucmVzZXRQYWdpbmF0aW9uKCk7CiAgICAgIHRoaXMuZmV0Y2hBcnRpY2xlcygpOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaEFydGljbGVzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZmV0Y2hBcnRpY2xlcygpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goRkVUQ0hfQVJUSUNMRVMsIHRoaXMubGlzdENvbmZpZyk7CiAgICB9LAoKICAgIHJlc2V0UGFnaW5hdGlvbigpIHsKICAgICAgdGhpcy5saXN0Q29uZmlnLm9mZnNldCA9IDA7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["/home/vkit3/WebstormProjects/vue-test/src/components/ArticleList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div v-if=\"isLoading\" class=\"article-preview\">Loading articles...</div>\n    <div v-else>\n      <div v-if=\"articles.length === 0\" class=\"article-preview\">\n        No articles are here... yet.\n      </div>\n      <VtArticlePreview\n        v-for=\"(article, index) in articles\"\n        :article=\"article\"\n        :key=\"article.title + index\"\n      />\n      <VPagination :pages=\"pages\" v-model=\"currentPage\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport VtArticlePreview from \"./VArticlePreview\";\nimport VPagination from \"./VPagination\";\nimport { FETCH_ARTICLES } from \"../store/actions.type\";\n\nexport default {\n  name: \"VtArticleList\",\n  components: {\n    VtArticlePreview,\n    VPagination\n  },\n  props: {\n    type: {\n      type: String,\n      required: false,\n      default: \"all\"\n    },\n    author: {\n      type: String,\n      required: false\n    },\n    tag: {\n      type: String,\n      required: false\n    },\n    favorited: {\n      type: String,\n      required: false\n    },\n    itemsPerPage: {\n      type: Number,\n      required: false,\n      default: 10\n    }\n  },\n  data() {\n    return {\n      currentPage: 1\n    };\n  },\n  computed: {\n    listConfig() {\n      const { type } = this;\n      const filters = {\n        offset: (this.currentPage - 1) * this.itemsPerPage,\n        limit: this.itemsPerPage\n      };\n      if (this.author) {\n        filters.author = this.author;\n      }\n      if (this.tag) {\n        filters.tag = this.tag;\n      }\n      if (this.favorited) {\n        filters.favorited = this.favorited;\n      }\n      return {\n        type,\n        filters\n      };\n    },\n    pages() {\n      if (this.isLoading || this.articlesCount <= this.itemsPerPage) {\n        return [];\n      }\n      return [\n        ...Array(Math.ceil(this.articlesCount / this.itemsPerPage)).keys()\n      ].map((e) => e + 1);\n    },\n    ...mapGetters([\"articlesCount\", \"isLoading\", \"articles\"])\n  },\n  watch: {\n    currentPage(newValue) {\n      this.listConfig.filters.offset = (newValue - 1) * this.itemsPerPage;\n      this.fetchArticles();\n    },\n    type() {\n      this.resetPagination();\n      this.fetchArticles();\n    },\n    author() {\n      this.resetPagination();\n      this.fetchArticles();\n    },\n    tag() {\n      this.resetPagination();\n      this.fetchArticles();\n    },\n    favorited() {\n      this.resetPagination();\n      this.fetchArticles();\n    }\n  },\n  mounted() {\n    this.fetchArticles();\n  },\n  methods: {\n    fetchArticles() {\n      this.$store.dispatch(FETCH_ARTICLES, this.listConfig);\n    },\n    resetPagination() {\n      this.listConfig.offset = 0;\n      this.currentPage = 1;\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}