{"remainingRequest":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js!/home/vkit3/WebstormProjects/vue-test/node_modules/ts-loader/index.js??ref--14-2!/home/vkit3/WebstormProjects/vue-test/node_modules/eslint-loader/index.js??ref--13-0!/home/vkit3/WebstormProjects/vue-test/src/common/api.service.ts","dependencies":[{"path":"/home/vkit3/WebstormProjects/vue-test/src/common/api.service.ts","mtime":1622589832892},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/vkit3/WebstormProjects/vue-test/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEp3dFNlcnZpY2UgZnJvbSAiQC9jb21tb24vand0LnNlcnZpY2UiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBBUElfVVJMIH0gZnJvbSAiQC9jb21tb24vY29uZmlnIjsKZXhwb3J0IGNvbnN0IGF4aW9zQ2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBBUElfVVJMCn0pOwpjb25zdCBBcGlTZXJ2aWNlID0gewogIHNldEhlYWRlcigpIHsKICAgIGF4aW9zQ2xpZW50LmRlZmF1bHRzLmhlYWRlcnNbIkF1dGhvcml6YXRpb24iXSA9IGBUb2tlbiAke0p3dFNlcnZpY2UuZ2V0VG9rZW4oKX1gOwogIH0sCgogIHF1ZXJ5KHJlc291cmNlLCBwYXJhbXMpIHsKICAgIHJldHVybiBheGlvc0NsaWVudC5nZXQocmVzb3VyY2UsIHBhcmFtcykuY2F0Y2goZXJyb3IgPT4gewogICAgICB0aHJvdyBuZXcgRXJyb3IoYFtWdF0gQXBpU2VydmljZSAke2Vycm9yfWApOwogICAgfSk7CiAgfSwKCiAgZ2V0KHJlc291cmNlLCBzbHVnID0gIiIpIHsKICAgIHJldHVybiBheGlvc0NsaWVudC5nZXQoYCR7cmVzb3VyY2V9LyR7c2x1Z31gKS5jYXRjaChlcnJvciA9PiB7CiAgICAgIHRocm93IG5ldyBFcnJvcihgW1Z0XSBBcGlTZXJ2aWNlICR7ZXJyb3J9YCk7CiAgICB9KTsKICB9LAoKICBwb3N0KHJlc291cmNlLCBwYXJhbXMpIHsKICAgIHJldHVybiBheGlvc0NsaWVudC5wb3N0KGAke3Jlc291cmNlfWAsIHBhcmFtcyk7CiAgfSwKCiAgdXBkYXRlKHJlc291cmNlLCBzbHVnLCBwYXJhbXMpIHsKICAgIHJldHVybiBheGlvc0NsaWVudC5wdXQoYCR7cmVzb3VyY2V9LyR7c2x1Z31gLCBwYXJhbXMpOwogIH0sCgogIHB1dChyZXNvdXJjZSwgcGFyYW1zKSB7CiAgICByZXR1cm4gYXhpb3NDbGllbnQucHV0KGAke3Jlc291cmNlfWAsIHBhcmFtcyk7CiAgfSwKCiAgZGVsZXRlKHJlc291cmNlKSB7CiAgICByZXR1cm4gYXhpb3NDbGllbnQuZGVsZXRlKHJlc291cmNlKS5jYXRjaChlcnJvciA9PiB7CiAgICAgIHRocm93IG5ldyBFcnJvcihgW1Z0XSBBcGlTZXJ2aWNlICR7ZXJyb3J9YCk7CiAgICB9KTsKICB9Cgp9OwpleHBvcnQgZGVmYXVsdCBBcGlTZXJ2aWNlOwpleHBvcnQgY29uc3QgVGFnc1NlcnZpY2UgPSB7CiAgZ2V0KCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0KCJ0YWdzIik7CiAgfQoKfTsKZXhwb3J0IGNvbnN0IEFydGljbGVzU2VydmljZSA9IHsKICBxdWVyeSh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLnF1ZXJ5KCJhcnRpY2xlcyIgKyAodHlwZSA9PT0gImZlZWQiID8gIi9mZWVkIiA6ICIiKSwgewogICAgICBwYXJhbXM6IHBhcmFtcwogICAgfSk7CiAgfSwKCiAgZ2V0KHNsdWcpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiYXJ0aWNsZXMiLCBzbHVnKTsKICB9LAoKICBjcmVhdGUocGFyYW1zKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KCJhcnRpY2xlcyIsIHsKICAgICAgYXJ0aWNsZTogcGFyYW1zCiAgICB9KTsKICB9LAoKICB1cGRhdGUoc2x1ZywgcGFyYW1zKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS51cGRhdGUoImFydGljbGVzIiwgc2x1ZywgewogICAgICBhcnRpY2xlOiBwYXJhbXMKICAgIH0pOwogIH0sCgogIGRlc3Ryb3koc2x1ZykgewogICAgcmV0dXJuIEFwaVNlcnZpY2UuZGVsZXRlKGBhcnRpY2xlcy8ke3NsdWd9YCk7CiAgfQoKfTsKZXhwb3J0IGNvbnN0IENvbW1lbnRzU2VydmljZSA9IHsKICBnZXQoc2x1ZykgewogICAgaWYgKHR5cGVvZiBzbHVnICE9PSAic3RyaW5nIikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIltWdF0gQ29tbWVudHNTZXJ2aWNlLmdldCgpIGFydGljbGUgc2x1ZyByZXF1aXJlZCB0byBmZXRjaCBjb21tZW50cyIpOwogICAgfQoKICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldCgiYXJ0aWNsZXMiLCBgJHtzbHVnfS9jb21tZW50c2ApOwogIH0sCgogIHBvc3Qoc2x1ZywgcGF5bG9hZCkgewogICAgcmV0dXJuIEFwaVNlcnZpY2UucG9zdChgYXJ0aWNsZXMvJHtzbHVnfS9jb21tZW50c2AsIHsKICAgICAgY29tbWVudDogewogICAgICAgIGJvZHk6IHBheWxvYWQKICAgICAgfQogICAgfSk7CiAgfSwKCiAgZGVzdHJveShzbHVnLCBjb21tZW50SWQpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmRlbGV0ZShgYXJ0aWNsZXMvJHtzbHVnfS9jb21tZW50cy8ke2NvbW1lbnRJZH1gKTsKICB9Cgp9OwpleHBvcnQgY29uc3QgRmF2b3JpdGVTZXJ2aWNlID0gewogIGFkZChzbHVnKSB7CiAgICByZXR1cm4gQXBpU2VydmljZS5wb3N0KGBhcnRpY2xlcy8ke3NsdWd9L2Zhdm9yaXRlYCk7CiAgfSwKCiAgcmVtb3ZlKHNsdWcpIHsKICAgIHJldHVybiBBcGlTZXJ2aWNlLmRlbGV0ZShgYXJ0aWNsZXMvJHtzbHVnfS9mYXZvcml0ZWApOwogIH0KCn07"},{"version":3,"sources":["/home/vkit3/WebstormProjects/vue-test/node_modules/eslint-loader/index.js??ref--13-0!/home/vkit3/WebstormProjects/vue-test/src/common/api.service.ts"],"names":[],"mappings":"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","sourcesContent":["import JwtService from \"@/common/jwt.service\";\nimport axios from \"axios\";\nimport { API_URL } from \"@/common/config\";\n\nexport const axiosClient = axios.create({\n  baseURL: API_URL\n});\n\nconst ApiService = {\n  setHeader() {\n    axiosClient.defaults.headers[\n      \"Authorization\"\n    ] = `Token ${JwtService.getToken()}`;\n  },\n\n  query(resource, params) {\n    return axiosClient.get(resource, params).catch((error) => {\n      throw new Error(`[Vt] ApiService ${error}`);\n    });\n  },\n\n  get(resource, slug = \"\") {\n    return axiosClient.get(`${resource}/${slug}`).catch((error) => {\n      throw new Error(`[Vt] ApiService ${error}`);\n    });\n  },\n\n  post(resource, params?: any) {\n    return axiosClient.post(`${resource}`, params);\n  },\n\n  update(resource, slug, params) {\n    return axiosClient.put(`${resource}/${slug}`, params);\n  },\n\n  put(resource, params) {\n    return axiosClient.put(`${resource}`, params);\n  },\n\n  delete(resource) {\n    return axiosClient.delete(resource).catch((error) => {\n      throw new Error(`[Vt] ApiService ${error}`);\n    });\n  }\n};\n\nexport default ApiService;\n\nexport const TagsService = {\n  get() {\n    return ApiService.get(\"tags\");\n  }\n};\n\nexport const ArticlesService = {\n  query(type, params) {\n    return ApiService.query(\"articles\" + (type === \"feed\" ? \"/feed\" : \"\"), {\n      params: params\n    });\n  },\n  get(slug) {\n    return ApiService.get(\"articles\", slug);\n  },\n  create(params) {\n    return ApiService.post(\"articles\", { article: params });\n  },\n  update(slug, params) {\n    return ApiService.update(\"articles\", slug, { article: params });\n  },\n  destroy(slug) {\n    return ApiService.delete(`articles/${slug}`);\n  }\n};\n\nexport const CommentsService = {\n  get(slug) {\n    if (typeof slug !== \"string\") {\n      throw new Error(\n        \"[Vt] CommentsService.get() article slug required to fetch comments\"\n      );\n    }\n    return ApiService.get(\"articles\", `${slug}/comments`);\n  },\n\n  post(slug, payload) {\n    return ApiService.post(`articles/${slug}/comments`, {\n      comment: { body: payload }\n    });\n  },\n\n  destroy(slug, commentId) {\n    return ApiService.delete(`articles/${slug}/comments/${commentId}`);\n  }\n};\n\nexport const FavoriteService = {\n  add(slug) {\n    return ApiService.post(`articles/${slug}/favorite`);\n  },\n  remove(slug) {\n    return ApiService.delete(`articles/${slug}/favorite`);\n  }\n};\n"],"sourceRoot":""}]}